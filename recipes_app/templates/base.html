{% load static %}
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">

    <link href="{% static 'recipes/bootstrap.css' %}" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.2/font/bootstrap-icons.css">
    <link href="https://unpkg.com/gridjs/dist/theme/mermaid.min.css" rel="stylesheet"/>

    <link href="{% static 'style.css' %}" rel="stylesheet">

    {#    Favicon#}
    <link rel="icon" type="image/x-icon" href="{{ MEDIA_URL }}favicons/favicon.ico">


    <title>Food</title>

</head>

<body>
<nav class="navbar navbar-expand-sm navbar-dark bg-dark p-0 sticky-top shadow">
    <div class="container-fluid">
        <a href="{% url 'recipes:home' %}" class="navbar-brand ps-2">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bug"
                 viewBox="0 0 16 16">
                <path d="M4.355.522a.5.5 0 0 1 .623.333l.291.956A4.979 4.979 0 0 1 8 1c1.007 0 1.946.298 2.731.811l.29-.956a.5.5 0 1 1 .957.29l-.41 1.352A4.985 4.985 0 0 1 13 6h.5a.5.5 0 0 0 .5-.5V5a.5.5 0 0 1 1 0v.5A1.5 1.5 0 0 1 13.5 7H13v1h1.5a.5.5 0 0 1 0 1H13v1h.5a1.5 1.5 0 0 1 1.5 1.5v.5a.5.5 0 1 1-1 0v-.5a.5.5 0 0 0-.5-.5H13a5 5 0 0 1-10 0h-.5a.5.5 0 0 0-.5.5v.5a.5.5 0 1 1-1 0v-.5A1.5 1.5 0 0 1 2.5 10H3V9H1.5a.5.5 0 0 1 0-1H3V7h-.5A1.5 1.5 0 0 1 1 5.5V5a.5.5 0 0 1 1 0v.5a.5.5 0 0 0 .5.5H3c0-1.364.547-2.601 1.432-3.503l-.41-1.352a.5.5 0 0 1 .333-.623zM4 7v4a4 4 0 0 0 3.5 3.97V7H4zm4.5 0v7.97A4 4 0 0 0 12 11V7H8.5zM12 6a3.989 3.989 0 0 0-1.334-2.982A3.983 3.983 0 0 0 8 2a3.983 3.983 0 0 0-2.667 1.018A3.989 3.989 0 0 0 4 6h8z"/>
            </svg>
            <span class="ps-3">Foodie</span></a>
        <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
            <span class="navbar-toggler-icon"></span>
        </button>
        {% if user.is_authenticated %}
            <div id="navbarCollapse" class="collapse navbar-collapse">
                <ul class="nav navbar-nav ms-auto">
                    <li class="nav-item dropdown">
                        <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown"><img
                                src="{{ MEDIA_URL }}{{ user.avatar.avatar }}" alt="" width="32" height="32"
                                class="rounded-circle me-2"></a>
                        <div class="dropdown-menu dropdown-menu-end">
                            <a href="{% url 'user:profile' %}" class="dropdown-item">Profile</a>
                            <div class="dropdown-divider"></div>
                            <a href="{% url 'user:logout' %}" class="dropdown-item">Log out</a>
                        </div>
                    </li>
                </ul>
            </div>
        {% else %}
            <a href="{% url 'user:login' %}" class="link-light">Login</a>
        {% endif %}
    </div>
</nav>


<div class="container-fluid">
    <div class="row">
        <nav id="sidebarMenu" class="col-1 d-md-block bg-light sidebar collapse">
            <div class="position-sticky pt-4">
                <ul class="nav flex-column">
                    <li class="nav-item">
                        {% with request.resolver_match.url_name as url_name %}

                            <a aria-current="page" href="{% url 'recipes:home' %}"
                               class="nav-link {% if url_name == 'home' %}active"{% endif %}>
                            <span data-feather="home" class="align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg"
                                                                                     width="24" height="24"
                                                                                     viewBox="0 0 24 24" fill="none"
                                                                                     stroke="currentColor"
                                                                                     stroke-width="2"
                                                                                     stroke-linecap="round"
                                                                                     stroke-linejoin="round"
                                                                                     class="feather feather-home align-text-bottom"
                                                                                     aria-hidden="true"><path
                                    d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline
                                    points="9 22 9 12 15 12 15 22"></polyline></svg></span>
                                Home
                            </a>
                            </li>
                            <li class="nav-item">
                                <a href="{% url 'recipes:list_recipe' %}"
                                   class="nav-link {% if url_name == 'list_recipe' %}active"{% endif %}>
                            <span data-feather="file" class="align-text-bottom"><svg xmlns="http://www.w3.org/2000/svg"
                                                                                     width="24" height="24"
                                                                                     viewBox="0 0 24 24" fill="none"
                                                                                     stroke="currentColor"
                                                                                     stroke-width="2"
                                                                                     stroke-linecap="round"
                                                                                     stroke-linejoin="round"
                                                                                     class="feather feather-file-text align-text-bottom"
                                                                                     aria-hidden="true"><path
                                    d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline
                                    points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line
                                    x1="16" y1="17" x2="8" y2="17"></line><polyline
                                    points="10 9 9 9 8 9"></polyline></svg></span>
                                    Recipes
                                </a>
                            </li>
                            {% if user.is_authenticated %}

                                <li class="nav-item">
                                    <a href="{% url 'recipes:user_recipes' %}"
                                       class="nav-link {% if url_name == 'user_recipes' %}active"{% endif %}>
                                <span data-feather="shopping-cart" class="align-text-bottom"><svg
                                        xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" class="feather feather-shopping-cart align-text-bottom"
                                        aria-hidden="true"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21"
                                                                                                         r="1"></circle><path
                                        d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg></span>
                                        My recipes
                                    </a>
                                </li>
                            {% endif %}
                        {% endwith %}
                </ul>
            </div>
        </nav>

        <main class="col-11 ms-sm-auto px-md-4">
            <div class="card-body mt-4 p-4 shadow">
                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">

                    {% block content_title %}

                    {% endblock %}
                </div>
            </div>


            <div class="card-body p-4 shadow mt-4">
                {% if messages %}
                    {% for message in messages %}
                        <div {% if message.tags %} class="alert alert-{{ message.tags }}"{% endif %}>{{ message }}</div>
                    {% endfor %}
                {% endif %}
                {% block content %}

                {% endblock %}
            </div>

            {% block random_recipe %}

            {% endblock %}
        </main>
    </div>
</div>


<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
        crossorigin="anonymous"></script>
{% block javascript %}

{% endblock %}
</body>
</html>
