{% extends 'base.html' %}
{% load static %}

{% block content_title %}
    <div class="d-flex justify-content-between">
        <h3 class="d-inline-block">{{ recipe.title }}</h3>
        <a href="{% url 'recipes:update_recipe' recipe.id %}" title="Edit recipe"
           class="text-decoration-none btn-edit-recipe pt-2">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                 fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round"
                 stroke-linejoin="round">
                <path d="M20 14.66V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.34"></path>
                <polygon points="18 2 22 6 12 16 8 16 8 12 18 2"></polygon>
            </svg>
        </a>
    </div>

{% endblock %}

{% block recipe_description %}
    <p class="lead">{{ recipe.description }}</p>
    <hr>
{% endblock %}


{% block content %}

    {% if recipe.image %}
        <img src="{{ recipe.resized_image_large.url }}" alt="" class=" img-fluid d-block border border-dark mx-auto">
    {% else %}
        <img src="{{ MEDIA_URL }}recipe_default.jpg" alt="" class=" img-fluid d-block border border-dark mx-auto">
    {% endif %}
    <hr>

    <table class="table recipe-detail" id="recipe-list">
        <tbody>
        <tr>
            <th scope="row">Portions</th>
            <td>{{ recipe.portions }}</td>
        </tr>
        <tr>
            <th scope="row">Ingredients</th>
            <td>
                <table>
                    <tbody>
                    {% for ingredient_set in recipe.recipeingredient_set.all %}
                        <tr>

                            <th scope="row">{{ ingredient_set.ingredient.name }}</th>
                        </tr>
                        <tr>
                            <td>
                                {{ ingredient_set.quantity }} {{ ingredient_set.unit }}
                            </td>
                        </tr>
                        {% if ingredient_set.ingredient.contains %}
                        <tr>
                            <td>
                                <i>({{ ingredient_set.ingredient.contains }})</i>
                            </td>
                        </tr>
                        {% endif %}
                    {% endfor %}
                    </tbody>
                </table>


            </td>


        </tr>


        <tr>
            <th scope="row">Steps</th>
            <td colspan="2">{{ recipe.steps | safe }}</td>
        </tr>
        <tr>
            <th scope="row">Tags</th>
            <td colspan="2">{{ recipe.filters }}</td>
        </tr>

        </tbody>
    </table>
    <div id="pretty-table"></div>
{% endblock %}

{#{% block javascript %}#}
{#    {% if  recipe_list %}#}
{#        <script src="https://cdn.jsdelivr.net/npm/gridjs/dist/gridjs.umd.js"></script>#}
{#        <script src="{% static 'recipes/app.js' %}"></script>#}
{#    {% endif %}#}
{#{% endblock %}#}