{% extends 'base.html' %}
{% load static %}

{% block content_title %}
    <div class="d-flex justify-content-between">
        <h3 class="d-inline-block">{{ recipe.title }}</h3>

        <a href="{% url 'recipes:update_recipe' recipe.id %}" title="Edit recipe"
           class="text-decoration-none btn btn-primary">
            <i class="bi bi-pen"></i>
        </a>
    </div>

{% endblock %}

{% block recipe_description %}
    <p class="lead">{{ recipe.description }}</p>
    <hr>
{% endblock %}


{% block content %}

    {% if recipe.image %}
        <img src="{{ recipe.resized_image_large.url }}" alt="" class=" img-fluid d-block border border-dark mx-auto">
    {% else %}
        <img src="{{ MEDIA_URL }}recipe_default.jpg" alt="" class=" img-fluid d-block border border-dark mx-auto">
    {% endif %}
    <hr>

    <table class="table recipe-detail" id="recipe-list">
        <tbody>
        <tr>
            <th scope="row">Portions</th>
            <td>{{ recipe.portions }}</td>
        </tr>
        <tr>
            <th scope="row">Ingredients</th>
            <td>

                {% for ingredient_set in recipe.recipeingredient_set.all %}

                    <b>{{ ingredient_set.ingredient.name }}</b>
                    <br>
                    {{ ingredient_set.quantity }} {{ ingredient_set.unit }}

                    {% if ingredient_set.ingredient.contains %}
                        <br>
                        <i>({{ ingredient_set.ingredient.contains }})</i>
                    {% endif %}
                    <br>
                    <br>

                {% endfor %}
            </td>
        </tr>

        <tr>
            <th scope="row">Steps</th>
            <td colspan="2">{{ recipe.steps | safe }}</td>
        </tr>
        <tr>
            <th scope="row">Tags</th>
            <td colspan="2">{{ recipe.filters }}</td>
        </tr>

        </tbody>
    </table>
    <div id="pretty-table"></div>
{% endblock %}

{#{% block javascript %}#}
{#    {% if  recipe_list %}#}
{#        <script src="https://cdn.jsdelivr.net/npm/gridjs/dist/gridjs.umd.js"></script>#}
{#        <script src="{% static 'recipes/app.js' %}"></script>#}
{#    {% endif %}#}
{#{% endblock %}#}